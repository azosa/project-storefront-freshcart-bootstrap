<section class="mt-8 mb-14">
  <div class="container">
    <!-- row -->
    <div class="row">
<div class="col-lg-12">
    <div class="mb-8 border-bottom">
      <div class="text-start">
        <h5 class="mb-0 fs-4">Shop Cart</h5>
      </div>
    </div>
    <div class="row">
  
      <div class="col-lg-8 col-md-7" *ngIf="basketProducts$ | async as basketProducts">
        <!-- alert -->
        <div *ngIf="basketProducts.length>0" class="alert alert-danger p-2" role="alert">
          Youâ€™ve got FREE delivery. Start <a href="" class="alert-link">checkout now!</a>
        </div>
        <ul class="list-group list-group-flush">
          <!-- list group -->
          <li class="list-group-item py-3 ps-0 border-top" *ngFor="let item of basketProducts">
            <!-- row -->
            <div class="row align-items-center">
              <div class="col-3 col-md-2">
                <!-- img --> <img [src]="item.imgUrl" alt="Ecommerce" class="img-fluid"></div>
              <div class="col-4 col-md-6 col-lg-5">
                <!-- title -->
                <a routerLink="'/product/'+ item.id" class="text-inherit">
                  <h6 class="mb-0">{{item.name}}</h6>
                </a>
                <span></span>
                <!-- text -->
                <div class="mt-2 small lh-1"> <div (click)="removeProd(item.id)" class="text-decoration-none text-inherit" style="cursor: pointer;"> <span class="me-1 align-text-bottom">
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 text-success">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                        </path>
                        <line x1="10" y1="11" x2="10" y2="17"></line>
                        <line x1="14" y1="11" x2="14" y2="17"></line>
                      </svg></span><span class="text-muted">Remove</span></div></div>
              </div>
              <!-- input group -->
              <div class="col-3 col-md-3 col-lg-3">
                <!-- input -->
                <!-- input -->
                <div class="input-group input-spinner  ">
                  <input type="button" value="-"(click)="onQuantityMinus(item)" [disabled]="item.quantity === 1" class="button-minus btn  btn-sm " data-field="quantity">
                  <input type="number" step="1"(change)="onQuantityChange(item.id, $event)" max="10" min="1" [value]="item.quantity" data-field="quantity" name="quantity" class="quantity-field form-control-sm form-input   ">
                  <input type="button" value="+"(click)="onQuantityPlus(item)" class="button-plus btn btn-sm " data-field="quantity">
                </div>
  
              </div>
              <!-- price -->
              <div class="col-2 text-lg-end text-start text-md-end col-md-2">
                <span class="fw-bold">{{item.price*item.quantity| currency}}</span>
  
              </div>
            </div>
  
          </li>

        </ul>
        <!-- btn -->
        <div class="d-flex justify-content-between mt-4">
          <a href="/" class="btn btn-primary">Continue Shopping</a>
          <a href="/basket" class="btn btn-dark">Update Cart</a>
        </div>
  
      </div>
      <div class="col-12 col-lg-4 col-md-5">
        <!-- card -->
        <div class="mb-5 card mt-6">
          <div class="card-body p-6">
            <!-- heading -->
            <h2 class="h5 mb-4">Summary</h2>
            <div class="card mb-2">
              <!-- list group -->
              <ul class="list-group list-group-flush">
                <!-- list group item -->
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="me-auto">
                    <div>Item Subtotal</div>

                  </div>
                  <span>{{itemSubtotal$ | async| currency}}</span>
                </li>

                <!-- list group item -->
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="me-auto">
                    <div>Service Fee</div>

                  </div>
                  <span>{{ serviceFee$ | async | currency}}</span>
                </li>
                <!-- list group item -->
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="me-auto">
                    <div class="fw-bold">Subtotal</div>

                  </div>
                  <span class="fw-bold">{{subtotal$ | async | currency}}</span>
                </li>
              </ul>

            </div>
            <div class="d-grid mb-1 mt-4">
              <!-- btn -->
              <button class="btn btn-primary btn-lg d-flex justify-content-between align-items-center" type="submit">
                Go to Checkout <span class="fw-bold">{{subtotal$ | async | currency}}</span></button>
            </div>
            <!-- text -->
            <p><small>By placing your order, you agree to be bound by the Freshcart <a href="#!">Terms of Service</a>
                and <a href="#!">Privacy Policy.</a> </small></p>

    
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
</section>